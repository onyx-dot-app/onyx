{
  "id": "b3695ea53b454193b3f0ecf22cdcb49d",
  "semantic_identifier": "Design--Expose messaging divergence results in UI and trigger alerts for high inconsistency.docx",
  "title": null,
  "source": "google_doc",
  "doc_updated_at": "2025-10-18",
  "metadata": {
    "owner_names": ""
  },
  "doc_metadata": {
    "hierarchy": {
      "source_path": [
        "My Drive"
      ],
      "drive_id": null,
      "file_name": "Design--Expose messaging divergence results in UI and trigger alerts for high inconsistency.docx",
      "mime_type": "application/vnd.openxmlformats-officedocument.wordprocessingml.document"
    }
  },
  "sections": [
    {
      "text": "Add a new \u201cMessaging Consistency\u201d surface in **Customer_Analyzer** that consumes the existing audit output from **GOLD-48** and makes divergence visible by **segment \u00d7 channel**. The entry point will be a small widget on the segment overview (e.g., \u201cConsistency: 0.82 / High divergence\u201d) that links to a dedicated details view. The details view presents a table of channels for the selected segment (and optionally a global \u201call segments\u201d page), showing **divergence score**, **last audited timestamp**, and **status** (OK/Warn/Critical). This feature is strictly a presentation + alerting layer; the audit computation and scoring logic remain unchanged.\n\nIn the details view, each segment/channel row expands into a structured diff listing the specific **missing/altered** items grouped by: **Value Props**, **Differentiators**, and **Proof Points**. Each item should render as (a) canonical/expected text (or identifier) from the audit source-of-truth, (b) observed text per channel, and (c) a simple reason tag (missing/modified) provided by the audit output. Basic filtering/sorting is required (by divergence score, channel, status) to quickly identify the biggest contributors to drift, and deep links should preserve segment+channel context for sharing from alerts.\n\nImplement **threshold-based alerting** that triggers when divergence for a segment/channel crosses a **configurable limit** (per environment; default values defined in config). Alerts will be sent to Slack (primary) and email (optional) and will include segment, channel, divergence score, top N divergent items, and a direct link to the segment/channel details view. To reduce noise, alerts should be **edge-triggered** (only on transition into Warn/Critical), deduplicated per segment/channel within a cooldown window, and include the audit run id/timestamp for traceability.\n\nOperationally, this requires: (1) a read API endpoint in Customer_Analyzer that fetches the latest audit results keyed by segment/channel (and optionally history for trend sparklines later), (2) UI components for the widget + details table/expander, and (3) an alerting job that runs after audit completion (or on a schedule) to evaluate thresholds and send notifications. Configuration (thresholds, cooldown, destinations) should be managed via existing service config, and the UI should gracefully handle missing data (no audits yet) and partial results, with clear \u201clast updated\u201d indicators.",
      "link": "https://www.onyx.app/76352"
    }
  ],
  "primary_owners": [
    "andre_robinson"
  ],
  "secondary_owners": []
}