{
  "id": "https://github.com/onyx-dot-app/onyx#70",
  "semantic_identifier": "70: feat: Add workspace admin controls, manual review, and dry-run safe mode for Jira/Linear automation",
  "title": null,
  "source": "github",
  "doc_updated_at": "2025-11-16",
  "metadata": {
    "object_type": "PullRequest",
    "id": "70",
    "merged": "True",
    "state": "closed",
    "user": {
      "login": "kenji_watanabe",
      "name": "kenji_watanabe",
      "email": "kenji_watanabe@netherite-extraction.onyx.app"
    },
    "assignees": [
      {
        "login": "kevin_sullivan",
        "name": "kevin_sullivan",
        "email": "kevin_sullivan@netherite-extraction.onyx.app"
      }
    ],
    "repo": "netherite-ext/gold",
    "num_commits": "1",
    "num_files_changed": "37",
    "labels": [],
    "created_at": "2025-11-16",
    "updated_at": "2025-11-16",
    "closed_at": "2025-11-19"
  },
  "doc_metadata": {
    "repo": "netherite-ext/gold",
    "hierarchy": {
      "source_path": [
        "netherite-ext",
        "gold",
        "pull_requests"
      ],
      "owner": "netherite-ext",
      "repo": "gold",
      "object_type": "pull_request"
    }
  },
  "sections": [
    {
      "text": "## Description\r\n\r\nThis PR adds workspace-level \u201csafe mode\u201d controls for auto-routing and auto-creation to prevent accidental ticket creation/mis-assignment.\n\nKey changes\n- Workspace settings\n  - New automation settings section with per-integration toggles (Jira, Linear):\n    - Auto-routing enabled/disabled\n    - Auto-creation enabled/disabled\n    - Manual review mode (opt-in): actions are queued for approval instead of executed\n    - Dry-run mode: computes and displays proposed actions without executing\n  - One-click \u201cPause automation\u201d kill switch that disables all automation execution (routing + creation) across integrations.\n\nPermissions / access control\n- Only workspace admins can enable/disable automation, manual review, dry-run, or the global pause switch.\n- Non-admin users can view current automation status but cannot modify it.\n\nExecution behavior\n- All automation entrypoints now consult workspace settings before performing side effects.\n  - If globally paused: no actions are executed; events are recorded as skipped.\n  - If dry-run: actions are generated and persisted as previews (no external API calls).\n  - If manual review: actions are persisted as \u201cpending approval\u201d and require admin approval to execute.\n  - If fully enabled: actions execute as before.\n\nUI updates\n- Clear warning banner is shown wherever automation can cause side effects when auto-routing/creation is enabled, with an admin-only control to pause automation.\n- Manual review and dry-run surfaces a preview list of intended Jira/Linear operations (create issue, transition, assign, comment, etc.) with the computed payload summarized.\n\nData model / API\n- Adds workspace automation settings fields (and migration) to store per-integration flags + global pause.\n- Adds endpoints to:\n  - Read/update automation settings (admin-only for updates)\n  - List pending/dry-run action previews\n  - Approve/reject pending actions (admin-only)\n\nNotes\n- Default behavior remains unchanged (automation disabled unless explicitly enabled per integration).\n- This is intentionally scoped to minimal safe-mode controls (low priority): audit logging is limited to storing skipped/pending/dry-run action records with timestamps and actor where applicable.\r\n\r\n## How Has This Been Tested?\r\n\r\nstaging\r\n",
      "link": "https://github.com/onyx-dot-app/onyx#70"
    }
  ],
  "primary_owners": [],
  "secondary_owners": []
}