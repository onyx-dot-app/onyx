{
  "id": "ca522a745526453bb2853bbe52cb04df",
  "semantic_identifier": "Impact--Fix non-deterministic semantic clustering creating duplicate clusters on re-ingest.docx",
  "title": null,
  "source": "google_doc",
  "doc_updated_at": "2025-05-16",
  "metadata": {
    "owner_names": ""
  },
  "doc_metadata": {
    "hierarchy": {
      "source_path": [
        "My Drive"
      ],
      "drive_id": null,
      "file_name": "Impact--Fix non-deterministic semantic clustering creating duplicate clusters on re-ingest.docx",
      "mime_type": "application/vnd.openxmlformats-officedocument.wordprocessingml.document"
    }
  },
  "sections": [
    {
      "text": "This change fixes a reliability issue in our semantic clustering pipeline where the same set of conversations can produce different cluster assignments on subsequent ingestion runs. Today, reprocessing can \u201cfork\u201d themes, creating duplicate clusters for the same underlying issue and fragmenting insights across multiple buckets.\n\nThe impact is higher-quality, more trustworthy reporting: themes remain consistent over time, trend lines don\u2019t get split, and downstream workflows (dashboards, alerts, triage queues, and any saved views keyed on clusters) remain stable. It also reduces manual cleanup and confusion for users who see multiple near-identical themes and aren\u2019t sure which one to act on.\n\nWe\u2019ll achieve this by making clustering deterministic and idempotent: standardizing/normalizing text inputs, ensuring consistent embedding generation/versioning, and updating cluster create/update logic so re-ingestion updates existing clusters rather than creating new ones. This preserves cluster identity and membership when the source data hasn\u2019t meaningfully changed.\n\nTo prevent regressions, we\u2019ll add an automated test that replays the same source conversations through ingestion twice and asserts identical cluster IDs and membership across runs. Success looks like \u201cno new clusters created on re-ingest for unchanged input,\u201d with stable theme counts and clean history in analytics.",
      "link": "https://www.onyx.app/23916"
    }
  ],
  "primary_owners": [
    "sofia_ramirez@netherite-extraction.onyx.app"
  ],
  "secondary_owners": []
}