{
  "id": "https://github.com/onyx-dot-app/onyx#83",
  "semantic_identifier": "83: feat: Customer_Analyzer: UI for messaging divergence results + configurable threshold alerts",
  "title": null,
  "source": "github",
  "doc_updated_at": "2025-11-07",
  "metadata": {
    "object_type": "PullRequest",
    "id": "83",
    "merged": "False",
    "state": "open",
    "user": {
      "login": "sofia_ramirez",
      "name": "sofia_ramirez",
      "email": "sofia_ramirez@netherite-extraction.onyx.app"
    },
    "assignees": [
      {
        "login": "andre_robinson",
        "name": "andre_robinson",
        "email": "andre_robinson@netherite-extraction.onyx.app"
      }
    ],
    "repo": "netherite-ext/gold",
    "num_commits": "10",
    "num_files_changed": "31",
    "labels": [],
    "created_at": "2025-11-07",
    "updated_at": "2025-11-07",
    "closed_at": ""
  },
  "doc_metadata": {
    "repo": "netherite-ext/gold",
    "hierarchy": {
      "source_path": [
        "netherite-ext",
        "gold",
        "pull_requests"
      ],
      "owner": "netherite-ext",
      "repo": "gold",
      "object_type": "pull_request"
    }
  },
  "sections": [
    {
      "text": "## Description\r\n\r\n## Summary\nAdds a lightweight UI surface in Customer_Analyzer to expose messaging consistency (divergence) audit results by segment and channel, and introduces threshold-based alerting (Slack/email) when divergence exceeds a configurable limit.\n\n## What changed\n- **UI: Messaging Consistency view**\n  - New page/section that lists audit results grouped by **Segment \u00d7 Channel**.\n  - Displays **divergence score** plus structured drill-down of:\n    - missing/altered **Value Props**\n    - missing/altered **Differentiators**\n    - missing/altered **Proof Points**\n  - Adds a **details view** for a specific Segment/Channel showing the exact items flagged by the audit.\n\n- **Data/API wiring (no audit logic changes)**\n  - Adds/extends a read-only endpoint/service layer to fetch the precomputed results produced by GOLD-48.\n  - Normalizes payloads for UI consumption (segment, channel, divergenceScore, deltas per category), without changing the computation.\n\n- **Alerting**\n  - Implements an alert job/worker that evaluates latest results and triggers notifications when `divergenceScore >= threshold`.\n  - Supports **Slack** (webhook/app) and **email** via existing notification infrastructure.\n  - Notification includes: segment, channel, divergence score, and a deep link to the Segment/Channel details view.\n  - Includes basic dedupe/cooldown to avoid repeated alerts for unchanged high-divergence results.\n\n## Configuration\n- Adds config/env flags:\n  - `MESSAGING_DIVERGENCE_ALERT_THRESHOLD` (default set conservatively for medium priority rollout)\n  - `MESSAGING_DIVERGENCE_ALERT_CHANNELS=slack,email`\n  - Slack/email destination settings reuse existing notification config where available.\n\n## Notes for reviewers\n- UI is intentionally minimal and read-only; this PR focuses on visibility/actionability.\n- Audit computation remains untouched; only fetching, presentation, and alerting are added.\r\n\r\n## How Has This Been Tested?\r\n\r\nlocal\r\n",
      "link": "https://github.com/onyx-dot-app/onyx#83"
    }
  ],
  "primary_owners": [],
  "secondary_owners": []
}