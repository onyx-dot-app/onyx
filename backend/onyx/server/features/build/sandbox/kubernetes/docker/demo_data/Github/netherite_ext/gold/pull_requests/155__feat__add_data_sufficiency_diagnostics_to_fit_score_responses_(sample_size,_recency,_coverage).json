{
  "id": "https://github.com/onyx-dot-app/onyx#155",
  "semantic_identifier": "155: feat: Add data sufficiency diagnostics to fit score responses (sample size, recency, coverage)",
  "title": null,
  "source": "github",
  "doc_updated_at": "2025-05-23",
  "metadata": {
    "object_type": "PullRequest",
    "id": "155",
    "merged": "True",
    "state": "closed",
    "user": {
      "login": "sofia_ramirez",
      "name": "sofia_ramirez",
      "email": "sofia_ramirez@netherite-extraction.onyx.app"
    },
    "assignees": [
      {
        "login": "brooke_spencer",
        "name": "brooke_spencer",
        "email": "brooke_spencer@netherite-extraction.onyx.app"
      }
    ],
    "repo": "netherite-ext/gold",
    "num_commits": "3",
    "num_files_changed": "96",
    "labels": [],
    "created_at": "2025-05-23",
    "updated_at": "2025-05-23",
    "closed_at": "2025-06-06"
  },
  "doc_metadata": {
    "repo": "netherite-ext/gold",
    "hierarchy": {
      "source_path": [
        "netherite-ext",
        "gold",
        "pull_requests"
      ],
      "owner": "netherite-ext",
      "repo": "gold",
      "object_type": "pull_request"
    }
  },
  "sections": [
    {
      "text": "## Description\r\n\r\nThis PR adds backend \u201cdata sufficiency\u201d diagnostics to the fit score generation pipeline so the UI can surface a clear limited-data warning when a segment is scored with insufficient inputs.\n\nImplementation details:\n- Computes per-segment diagnostics during fit score generation:\n  - sample_size: number of usable observations/events contributing to the segment score\n  - recency: age of the most recent usable observation (and derived stale flag)\n  - key_signal_coverage: % of required/expected signals present for the segment (and derived coverage flag)\n- Extends the fit score response schema to include a diagnostics payload alongside each segment\u2019s score, including computed fields and boolean status flags (e.g., is_low_sample, is_stale, is_low_coverage, is_limited_data).\n- Adds configurable thresholds (with sensible defaults) for:\n  - minimum sample size\n  - maximum allowable recency\n  - minimum key-signal coverage\n  Thresholds are loaded via configuration to allow tuning without code changes.\n- Adds basic structured logging/metrics counters to track how often fit scores are produced under low-data conditions, broken down by failing reason(s) and segment.\n\nNotes for consumers:\n- Existing fit score fields are unchanged; the new diagnostics fields are additive.\n- UI can use the boolean flags to display warnings and optionally drill into numeric values (sample size/recency/coverage).\r\n\r\n## How Has This Been Tested?\r\n\r\nstaging\r\n",
      "link": "https://github.com/onyx-dot-app/onyx#155"
    }
  ],
  "primary_owners": [],
  "secondary_owners": []
}