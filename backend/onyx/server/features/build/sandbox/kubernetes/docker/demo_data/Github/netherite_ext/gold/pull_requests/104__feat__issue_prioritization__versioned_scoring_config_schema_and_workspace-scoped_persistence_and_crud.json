{
  "id": "https://github.com/onyx-dot-app/onyx#104",
  "semantic_identifier": "104: feat: Issue prioritization: versioned scoring config schema + workspace-scoped persistence and CRUD",
  "title": null,
  "source": "github",
  "doc_updated_at": "2025-04-30",
  "metadata": {
    "object_type": "PullRequest",
    "id": "104",
    "merged": "True",
    "state": "closed",
    "user": {
      "login": "kenji_watanabe",
      "name": "kenji_watanabe",
      "email": "kenji_watanabe@netherite-extraction.onyx.app"
    },
    "assignees": [
      {
        "login": "brooke_spencer",
        "name": "brooke_spencer",
        "email": "brooke_spencer@netherite-extraction.onyx.app"
      }
    ],
    "repo": "netherite-ext/gold",
    "num_commits": "4",
    "num_files_changed": "41",
    "labels": [],
    "created_at": "2025-04-30",
    "updated_at": "2025-04-30",
    "closed_at": "2025-05-21"
  },
  "doc_metadata": {
    "repo": "netherite-ext/gold",
    "hierarchy": {
      "source_path": [
        "netherite-ext",
        "gold",
        "pull_requests"
      ],
      "owner": "netherite-ext",
      "repo": "gold",
      "object_type": "pull_request"
    }
  },
  "sections": [
    {
      "text": "## Description\r\n\r\nImplements the MVP scoring configuration source of truth for issue_prioritization.\n\nChanges:\n- Adds a versioned `scoring_config` model/schema (e.g., `version`, `workspace_id`, `is_active`, `weights`, `normalization`, `created_at/updated_at`).\n  - `weights` covers `frequency`, `severity`, and `arrTier`.\n  - `normalization` is optional (e.g., enable/disable + parameters for clamping/scaling) and is nullable to keep defaults simple.\n- Adds persistence via a new DB table/collection and indexes to support fetching the active config per workspace efficiently.\n  - Enforces a single active config per workspace (application-level guard and/or DB constraint depending on the datastore).\n- Implements service + CRUD endpoints/methods:\n  - Get active config for a workspace (auto-falls back to sensible defaults when none exists).\n  - Create a new config (optionally activates it).\n  - Update/patch an existing config.\n  - Activate a config (deactivates any previously-active config in the same workspace).\n  - List configs for a workspace (for basic audit/version history).\n- Default behavior:\n  - If a workspace has no saved config, `getActiveConfig(workspaceId)` returns an in-code default config with `version = 1` (no DB write performed).\n\nNotes for reviewers/users:\n- This PR does not compute scores yet; it only provides a consistent, configurable, workspace-scoped config store to unblock upcoming score calculation + explainable breakdown work.\n- Backward/forward compatibility is handled via explicit `version` on the config payload; future versions can be added without breaking reads of v1.\r\n\r\n## How Has This Been Tested?\r\n\r\nstaging\r\n",
      "link": "https://github.com/onyx-dot-app/onyx#104"
    }
  ],
  "primary_owners": [],
  "secondary_owners": []
}