{
  "id": "https://github.com/onyx-dot-app/onyx#25",
  "semantic_identifier": "25: feat: Fit Score UI: surface data sufficiency diagnostics with \u201cLimited data\u201d warning + confidence tooltip",
  "title": null,
  "source": "github",
  "doc_updated_at": "2025-06-15",
  "metadata": {
    "object_type": "PullRequest",
    "id": "25",
    "merged": "True",
    "state": "closed",
    "user": {
      "login": "sofia_ramirez",
      "name": "sofia_ramirez",
      "email": "sofia_ramirez@netherite-extraction.onyx.app"
    },
    "assignees": [
      {
        "login": "jiwon_kang",
        "name": "jiwon_kang",
        "email": "jiwon_kang@netherite-extraction.onyx.app"
      }
    ],
    "repo": "netherite-ext/gold",
    "num_commits": "1",
    "num_files_changed": "80",
    "labels": [],
    "created_at": "2025-06-15",
    "updated_at": "2025-06-15",
    "closed_at": "2025-06-21"
  },
  "doc_metadata": {
    "repo": "netherite-ext/gold",
    "hierarchy": {
      "source_path": [
        "netherite-ext",
        "gold",
        "pull_requests"
      ],
      "owner": "netherite-ext",
      "repo": "gold",
      "object_type": "pull_request"
    }
  },
  "sections": [
    {
      "text": "## Description\r\n\r\n## Summary\nThis PR updates the Fit Score UI to consume existing backend data sufficiency diagnostics and display a clear \u201cLimited data\u201d state when thresholds are not met. The warning state is consistently reflected anywhere Fit Score is rendered (segment list, segment detail, and export/screenshot views where applicable).\n\n## What\u2019s included\n- Reads backend-provided diagnostics for Fit Score (sample size, recency, signal coverage) from the existing Fit Score response payload.\n- Adds a UI warning state:\n  - Displays \u201cLimited data\u201d label/badge alongside the Fit Score when any sufficiency threshold fails.\n  - Shows a compact diagnostic summary near the score (e.g., `n=<count>`, `coverage=<%>`, `last updated=<date>`).\n  - Adds a tooltip (and modal on smaller viewports) that explains how limited data can reduce reliability and what each diagnostic means.\n- Ensures parity across surfaces:\n  - Segment list Fit Score cells\n  - Segment detail Fit Score header/component\n  - Export/screenshot render paths (where the Fit Score component is reused)\n\n## Implementation details (high level)\n- Introduces a shared `FitScoreConfidence`/`FitScoreDiagnostics` UI subcomponent used by all Fit Score renderers to avoid divergence.\n- Normalizes diagnostic values (formatting for counts, percentages, and timestamps) in a small helper to keep display consistent.\n- Uses a single computed boolean (e.g., `isLimitedData`) derived from backend diagnostics to drive badge color/state and tooltip content.\n- Adds safe fallbacks: if diagnostics are missing/null, the UI defaults to the current behavior (no warning) and omits the summary.\n\n## User-facing behavior\n- When diagnostics indicate insufficient sample size, stale data, or low coverage, users will see \u201cLimited data\u201d and can hover/click to understand why and how it impacts the Fit Score.\n\n## Notes\n- No backend changes required; this PR only consumes the already-available diagnostics.\n- Minor UI copy additions included for tooltip/modal text.\r\n\r\n## How Has This Been Tested?\r\n\r\nstaging\r\n",
      "link": "https://github.com/onyx-dot-app/onyx#25"
    }
  ],
  "primary_owners": [],
  "secondary_owners": []
}