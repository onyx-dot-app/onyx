{
  "id": "https://github.com/onyx-dot-app/onyx#112",
  "semantic_identifier": "112: fix: Harden sales_followup_recommendations recap generation when meeting metadata is missing",
  "title": null,
  "source": "github",
  "doc_updated_at": "2025-05-14",
  "metadata": {
    "object_type": "PullRequest",
    "id": "112",
    "merged": "True",
    "state": "closed",
    "user": {
      "login": "sofia_ramirez",
      "name": "sofia_ramirez",
      "email": "sofia_ramirez@netherite-extraction.onyx.app"
    },
    "assignees": [
      {
        "login": "jiwon_kang",
        "name": "jiwon_kang",
        "email": "jiwon_kang@netherite-extraction.onyx.app"
      }
    ],
    "repo": "netherite-ext/gold",
    "num_commits": "6",
    "num_files_changed": "17",
    "labels": [],
    "created_at": "2025-05-14",
    "updated_at": "2025-05-14",
    "closed_at": "2025-06-06"
  },
  "doc_metadata": {
    "repo": "netherite-ext/gold",
    "hierarchy": {
      "source_path": [
        "netherite-ext",
        "gold",
        "pull_requests"
      ],
      "owner": "netherite-ext",
      "repo": "gold",
      "object_type": "pull_request"
    }
  },
  "sections": [
    {
      "text": "## Description\r\n\r\nThis PR fixes recap/next-step recommendation rendering for opportunities whose associated CRM meeting record is missing or has empty fields.\n\nImplementation highlights:\n- Adds defensive guards in the sales_followup_recommendations recap pipeline to tolerate absent/blank meeting metadata (attendees, notes/transcript link, outcome).\n- Introduces fallback sourcing for recap inputs (e.g., use opportunity/contact context and any available meeting timestamps/subject when present) so templates render with best-available data instead of failing early.\n- Defines a strict \u201crequired input\u201d boundary: when core recap inputs are truly unavailable, the generator returns an explicit `recapUnavailable` result rather than throwing/returning empty recommendations.\n- Adds structured logging for these cases (meeting/opportunity IDs, missing fields, source used, failure reason) to improve observability and reduce silent drops.\n- Updates the UI to display a clear \u201cRecap unavailable\u201d empty-state for the recap block while still showing other applicable follow-up recommendations.\n\nUser impact:\n- Sales users will no longer see follow-up recommendations silently omitted when meeting metadata is incomplete; they\u2019ll either get a recap built from available context or a clear unavailable state with other recommendations preserved.\r\n\r\n## How Has This Been Tested?\r\n\r\nlocal\r\n",
      "link": "https://github.com/onyx-dot-app/onyx#112"
    }
  ],
  "primary_owners": [],
  "secondary_owners": []
}