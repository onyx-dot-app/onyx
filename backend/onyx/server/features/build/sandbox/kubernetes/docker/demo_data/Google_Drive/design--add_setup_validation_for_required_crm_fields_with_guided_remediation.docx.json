{
  "id": "4f4c09b38fcd498cb448129fbf404cb9",
  "semantic_identifier": "Design--Add setup validation for required CRM fields with guided remediation.docx",
  "title": null,
  "source": "google_doc",
  "doc_updated_at": "2025-05-09",
  "metadata": {
    "owner_names": ""
  },
  "doc_metadata": {
    "hierarchy": {
      "source_path": [
        "My Drive"
      ],
      "drive_id": null,
      "file_name": "Design--Add setup validation for required CRM fields with guided remediation.docx",
      "mime_type": "application/vnd.openxmlformats-officedocument.wordprocessingml.document"
    }
  },
  "sections": [
    {
      "text": "### Overview\nWe will add a \u201cSetup Validation\u201d step in the onboarding/config flow that verifies required canonical CRM fields are (a) mapped to a source field and (b) sufficiently populated across relevant CRM objects before enabling Forecasting, Next-Best-Action, and Risk Alerts. The validator will focus on a small set of canonical fields (e.g., stage, close date, amount, owner, last activity/updated date) and compute population rates (e.g., % of opportunities with non-null values over a configurable lookback window). Validation results will gate feature enablement: only truly critical failures will block completion, while non-critical gaps will allow continuation with explicit warnings.\n\n### Validation logic and thresholds\nFor each canonical field, we\u2019ll run checks in two categories: **mapping** (is there a selected/derived CRM field mapping) and **data quality** (is the mapped field populated at or above an \u201cacceptable\u201d threshold). Thresholds should be per-field and environment-configurable (defaults owned by product/eng), with stricter requirements for forecasting-critical fields (stage, close date, amount, owner). \u201cLast activity/updated date\u201d may be satisfied by multiple candidate fields, and we\u2019ll allow fallbacks (e.g., updated_at if last_activity is missing) but will record which source was chosen. The validator will also detect when a field appears present but unreliable (e.g., extremely low variance, all defaults) and downgrade it to \u201cwarning\u201d rather than \u201cpass\u201d until confirmed.\n\n### Guided remediation UX\nWhen gaps are detected, the setup UI will present a per-field status table (Pass / Warn / Fail) with specific next actions. Actions include: (1) suggest alternate discovered fields (leveraging the field discovery work from GOLD-67), (2) recommend enabling CRM field history tracking when a \u201cchange-based\u201d signal is required for downstream features, and (3) allow admins to mark certain fields as optional, showing impact warnings (e.g., \u201cRisk alerts will be less accurate without last activity\u201d). Only blocking failures prevent enabling the dependent features; warnings allow enablement but show a persistent banner and require explicit acknowledgment.\n\n### Persistence, auditability, and rollout\nEach validation run will be persisted as a versioned record (timestamp, connector/instance, canonical field \u2192 mapped field, computed population metrics, thresholds, status, and remediation decisions/overrides) for audit/debugging and support workflows. We\u2019ll re-run validation on connector re-auth, mapping changes, and on a scheduled cadence (e.g., daily) to detect regressions; regressions will not automatically disable features but will surface in admin diagnostics and optionally notify. Rollout will be behind a feature flag, starting with read-only diagnostics in production before enforcing gating for new enablements, with clear logging and metrics on failure reasons to tune thresholds and reduce false blocks.",
      "link": "https://www.onyx.app/70585"
    }
  ],
  "primary_owners": [
    "andre_robinson"
  ],
  "secondary_owners": []
}