--- backend/alembic/versions/03bf8be6b53a_rework_kg_config.py
+++ backend/alembic/versions/03bf8be6b53a_rework_kg_config.py
@@ -61,11 +61,8 @@
     # ### commands auto generated by Alembic - please adjust! ###
     op.add_column("knowledge_graph", sa.Column("config", postgresql.JSONB(astext_type=sa.Text()), nullable=True))
     conn = op.get_bind()
-    res = conn.execute("select id, index_config from knowledge_graph")
-    results = res.fetchall()
-    for r in results:
-        conn.execute(f"update knowledge_graph set config = '{json.dumps(r[1])}' where id = '{r[0]}'")
+    conn.execute(sa.text("UPDATE knowledge_graph SET config = index_config"))
     op.drop_column("knowledge_graph", "index_config")
     # ### end Alembic commands ###
 
 
